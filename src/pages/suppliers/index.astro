---
import Layout from "../../layouts/app.layout.astro";
import Table from "../../components/Table.astro";
import { db, Supplier } from "astro:db";

const suppliers = await db.select().from(Supplier).all();
---

<Layout title="Suppliers">
	<div class="sm:flex sm:items-center pt-6">
		<div class="flex sm:flex-auto justify-between items-center mb-6">
			<h1 class="text-2xl font-semibold text-slate-900 dark:text-white">
				Proveedores
			</h1>
			<a
				href="/suppliers/create"
				class="inline-flex items-center justify-center rounded-md border border-transparent px-4 py-2 text-sm font-medium shadow-sm focus:outline-none focus:ring-2 bg-purple-700 text-gray-50 hover:bg-purple-600 focus:ring-purple-500"
			>
				Agregar Proveedor
			</a>
		</div>
	</div>

	<div class="mt-8 flex flex-col">
		<div class="-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8">
			<div
				class="inline-block min-w-full py-2 align-middle md:px-6 lg:px-8"
			>
				<div
					class="overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"
				>
					<Table
						data={suppliers}
						columns={[
							{
								name: "name",
								label: "Nombre",
								sortable: true,
								class: "text-gray-900",
							},
							{
								name: "contact",
								label: "Contacto",
								sortable: true,
								class: "text-gray-900",
							},
							{
								name: "email",
								label: "Email",
								sortable: true,
								class: "text-gray-900",
							},
							{
								name: "phone",
								label: "TelÃ©fono",
								sortable: true,
								class: "text-gray-900",
							},
						]}
						resource="Proveedores"
					/>
				</div>
			</div>
		</div>
	</div>
</Layout>
